{
Â  "nodes": [
Â    {
Â      "parameters": {
Â        "httpMethod": "POST",
Â        "path": "d2c7d05a-788b-4669-bef6-7205e27d419f",
Â        "options": {}
Â      },
Â      "type": "n8n-nodes-base.webhook",
Â      "typeVersion": 2,
Â      "position": [
Â        -448,
Â        144
Â      ],
Â      "id": "f54a8a79-da8c-4350-b3d6-5a92eb7d2767",
Â      "name": "Webhook",
Â      "webhookId": "d2c7d05a-788b-4669-bef6-7205e27d419f"
Â    },
Â    {
Â      "parameters": {
Â        "model": {
Â          "__rl": true,
Â          "value": "gpt-4.1-mini",
Â          "mode": "list",
Â          "cachedResultName": "gpt-4.1-mini"
Â        },
Â        "options": {}
Â      },
Â      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
Â      "typeVersion": 1.2,
Â      "position": [
Â        448,
Â        368
Â      ],
Â      "id": "4b2a8115-17a8-454a-aab6-595088d2e36e",
Â      "name": "OpenAI Chat Model1",
Â      "credentials": {
Â        "openAiApi": {
Â          "id": "J2Yh6YZrBtP0rkSN",
Â          "name": "OpenAi account"
Â        }
Â      }
Â    },
Â    {
Â      "parameters": {
Â        "sessionIdType": "customKey",
Â        "sessionKey": "={{ $('Webhook').item.json.body.phone }}",
Â        "contextWindowLength": 10
Â      },
Â      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
Â      "typeVersion": 1.3,
Â      "position": [
Â        576,
Â        368
Â      ],
Â      "id": "3123090a-3c1d-46fd-8045-bb40db914775",
Â      "name": "Window Buffer Memory1"
Â    },
Â    {
Â      "parameters": {
Â        "rules": {
Â          "values": [
Â            {
Â              "conditions": {
Â                "options": {
Â                  "caseSensitive": true,
Â                  "leftValue": "",
Â                  "typeValidation": "loose",
Â                  "version": 2
Â                },
Â                "conditions": [
Â                  {
Â                    "leftValue": "={{ $json.body.last_input_text }}",
Â                    "rightValue": "https://",
Â                    "operator": {
Â                      "type": "string",
Â                      "operation": "notContains"
Â                    },
Â                    "id": "440b30b7-aaaf-4cb1-be60-a89f0a0218f0"
Â                  }
Â                ],
Â                "combinator": "and"
Â              },
Â              "renameOutput": true,
Â              "outputKey": "Texto"
Â            },
Â            {
Â              "conditions": {
Â                "options": {
Â                  "caseSensitive": true,
Â                  "leftValue": "",
Â                  "typeValidation": "loose",
Â                  "version": 2
Â                },
Â                "conditions": [
Â                  {
Â                    "id": "9baaf70e-1f2c-4d87-83b8-76e287f2e0ad",
Â                    "leftValue": "={{ $json.body.last_input_text }}",
Â                    "rightValue": ".ogg",
Â                    "operator": {
Â                      "type": "string",
Â                      "operation": "contains"
Â                    }
Â                  }
Â                ],
Â                "combinator": "and"
Â              },
Â              "renameOutput": true,
Â              "outputKey": "Audio"
Â            },
Â            {
Â              "conditions": {
Â                "options": {
Â                  "caseSensitive": true,
Â                  "leftValue": "",
Â                  "typeValidation": "loose",
Â                  "version": 2
Â                },
Â                "conditions": [
Â                  {
Â                    "id": "2d29b324-ed65-4e5f-843c-bac6924f5dc8",
Â                    "leftValue": "={{ $json.body.last_input_text }}",
Â                    "rightValue": "=.jpeg",
Â                    "operator": {
Â                      "type": "string",
Â                      "operation": "contains"
Â                    }
Â                  }
Â                ],
Â                "combinator": "and"
Â              },
Â              "renameOutput": true,
Â              "outputKey": "Imagem"
Â            }
Â          ]
Â        },
Â        "looseTypeValidation": true,
Â        "options": {}
Â      },
Â      "type": "n8n-nodes-base.switch",
Â      "typeVersion": 3.2,
Â      "position": [
Â        -224,
Â        128
Â      ],
Â      "id": "b12723b7-d5aa-4307-9ef3-7a34aa0ad9b6",
Â      "name": "Switch1"
Â    },
Â    {
Â      "parameters": {
Â        "resource": "audio",
Â        "operation": "transcribe",
Â        "options": {}
Â      },
Â      "type": "@n8n/n8n-nodes-langchain.openAi",
Â      "typeVersion": 1.8,
Â      "position": [
Â        224,
Â        0
Â      ],
Â      "id": "c9eaea8b-9cfc-42ef-8218-ba31d9f7fbe9",
Â      "name": "OpenAI1",
Â      "credentials": {
Â        "openAiApi": {
Â          "id": "J2Yh6YZrBtP0rkSN",
Â          "name": "OpenAi account"
Â        }
Â      }
Â    },
Â    {
Â      "parameters": {
Â        "url": "={{ $('Webhook').item.json.body.last_input_text }}",
Â        "options": {}
Â      },
Â      "type": "n8n-nodes-base.httpRequest",
Â      "typeVersion": 4.2,
Â      "position": [
Â        0,
Â        0
Â      ],
Â      "id": "01574654-6ed2-43d5-8485-b34064fa3b43",
Â      "name": "HTTP Request3"
Â    },
Â    {
Â      "parameters": {
Â        "url": "={{ $('Webhook').item.json.body.last_input_text }}",
Â        "options": {}
Â      },
Â      "type": "n8n-nodes-base.httpRequest",
Â      "typeVersion": 4.2,
Â      "position": [
Â        224,
Â        288
Â      ],
Â      "id": "eae66835-637b-4aac-b643-c60ee9361748",
Â      "name": "HTTP Request4"
Â    },
Â    {
Â      "parameters": {
Â        "method": "POST",
Â        "url": "https://api.manychat.com/fb/subscriber/setCustomField",
Â        "sendHeaders": true,
Â        "headerParameters": {
Â          "parameters": [
Â            {
Â              "name": "Authorization",
Â              "value": "Bearer "
Â            },
Â            {
Â              "name": "Content",
Â              "value": "application-json"
Â            }
Â          ]
Â        },
Â        "sendBody": true,
Â        "bodyParameters": {
Â          "parameters": [
Â            {
Â              "name": "subscriber_id",
Â              "value": "={{ $('Webhook').item.json.body.id }}"
Â            },
Â            {
Â              "name": "field_id",
Â              "value": "13334098"
Â            },
Â            {
Â              "name": "field_value",
Â              "value": "={{ $json.output }}"
Â            }
Â          ]
Â        },
Â        "options": {}
Â      },
Â      "type": "n8n-nodes-base.httpRequest",
Â      "typeVersion": 4.2,
Â      "position": [
Â        1296,
Â        144
Â      ],
Â      "id": "",
Â      "name": "Define o campo de usuÃ¡rio com a Resposta do Agente1"
Â    },
Â    {
Â      "parameters": {
Â        "method": "POST",
Â        "url": "https://api.manychat.com/fb/sending/sendFlow",
Â        "sendHeaders": true,
Â        "headerParameters": {
Â          "parameters": [
Â            {
Â              "name": "Authorization",
Â              "value": "Bearer "
Â            }
Â          ]
Â        },
Â        "sendBody": true,
Â        "specifyBody": "json",
Â        "jsonBody": "={\n  \"subscriber_id\": {{ $('Webhook').item.json.body.id }},\n  \"flow_ns\": \"\"\n}",
Â        "options": {}
Â      },
Â      "type": "n8n-nodes-base.httpRequest",
Â      "typeVersion": 4.2,
Â      "position": [
Â        1520,
Â        144
Â      ],
Â      "id": "11f5eaec-4d5c-4138-8ec6-a8bda32596d0",
Â      "name": "Envia o Fluxo do Manychat1"
Â    },
Â    {
Â      "parameters": {
Â        "promptType": "define",
Â        "text": "={{ $('Webhook').item.json.body.last_input_text }}",
Â        "options": {
Â          "systemMessage": "=A data de hoje Ã© {{ $now.format('yyyy-MM-dd hh:mm') }} \n<systemPrompt>\n  <identity>\n    VocÃª Ã© um agente de inteligÃªncia artificial especializado no atendimento inicial de pacientes da clÃ­nica Sorriso Ideal Odontologia. Seu papel Ã© acolher, ouvir e orientar de forma clara, empÃ¡tica e profissional, oferecendo suporte rÃ¡pido e facilitando o agendamento de consultas odontolÃ³gicas.\n  </identity>\n\n  <services>\n    Limpeza / Profilaxia - HigienizaÃ§Ã£o completa com remoÃ§Ã£o de tÃ¡rtaro e polimento\tR$ 150 a R$ 250\n    Clareamento dental - Feito em consultÃ³rio, pode incluir moldeira para casa - A partir de R$ 900\n    RestauraÃ§Ã£o dentÃ¡ria (obturaÃ§Ã£o) - Tratamento de cÃ¡ries com resina estÃ©tica - R$ 150 a R$ 300 por dente\n    ExtraÃ§Ã£o simples - RemoÃ§Ã£o de dente sem complicaÃ§Ãµes - R$ 200 a R$ 400\n    ExtraÃ§Ã£o de siso - Cirurgia simples ou complexa - R$ 400 a R$ 1.200 (por dente)\n    Canal (endodontia) - Tratamento de canal em dente anterior - R$ 800 a R$ 1.500\n    Aparelho ortodÃ´ntico metÃ¡lico - InstalaÃ§Ã£o + manutenÃ§Ã£o mensal - InstalaÃ§Ã£o: R$ 1.200 a R$ 2.000 / ManutenÃ§Ã£o: R$ 100 a R$ 200\n    Aparelho estÃ©tico (safira ou porcelana) - Mais discreto - InstalaÃ§Ã£o: R$ 2.500 a R$ 4.000\n    Implante dentÃ¡rio - ColocaÃ§Ã£o de pino + coroa - R$ 3.000 a R$ 6.000 por unidade\n    PrÃ³tese total (dentadura) - Superior ou inferior - R$ 1.500 a R$ 3.000 cada\n    Facetas de resina - EstÃ©tica para correÃ§Ã£o de dentes - R$ 800 a R$ 1.500 por dente\n    Facetas de porcelana - EstÃ©tica de alta durabilidade - R$ 1.800 a R$ 3.500 por dente\n    Botox odontolÃ³gico - Tratamento para bruxismo e estÃ©tica - R$ 900 a R$ 1.800\n  </services>\n  <payment> \n    Os pagamentos aceitos sÃ£o Pix, Dinheiro, e parcelado atÃ© 6x no crÃ©dito.\n  </payment> \n  <objective>\n    <item>Prestar um atendimento inicial humanizado, cordial e eficiente.</item>\n    <item>Responder dÃºvidas frequentes de forma clara e sem termos tÃ©cnicos excessivos.</item>\n    <item>Coletar os dados</item>\n    <dataFields>\n      <field>Nome completo</field>\n      <field>Tipo de atendimento desejado (AvaliaÃ§Ã£o, Limpeza, Clareamento, Implante, Ortodontia, etc.)</field>\n      <field>PreferÃªncia de horÃ¡rio: manhÃ£ ou tarde</field>\n      <field>E-mail</field>\n      </dataFields>\n    <item>Filtrar e realizar agendamentos, remarcaÃ§Ãµes ou cancelamentos de consultas com o dentista responsÃ¡vel.</item>\n    <item>Acionar ferramentas automatizadas (tools/n8n) sempre que necessÃ¡rio, de forma transparente e amigÃ¡vel.</item>\n    <item>Personalizar o atendimento, mantendo dados essenciais temporariamente por atÃ© 24h, sempre informando o paciente.</item>\n  </objective>\n\n  <context>\n    <atendimentos>ClÃ­nica geral, Limpeza, Clareamento, Ortodontia, Implantes, EstÃ©tica dental</atendimentos>\n    <horario>Segunda a sexta, das 8h Ã s 17h (Agente disponÃ­vel 24h)</horario>\n    <consultas>Gratuitas para avaliaÃ§Ã£o inicial</consultas>\n    <prazo_resposta>1 dia Ãºtil</prazo_resposta>\n    <tempo_minimo_de_resposta>\n      2h. Ao consultar os horÃ¡rios disponÃ­veis, respeite o horÃ¡rio comercial. Os horÃ¡rios disponÃ­veis devem comeÃ§ar a partir de 2h apÃ³s o momento da solicitaÃ§Ã£o.\n    </tempo_minimo_de_resposta>\n    <contato>\n      <whatsapp>(11) 90000-1234</whatsapp>\n      <email>melgacinoneto@gmail.com</email>\n    </contato>\n  </context>\n\n  <limits>\n    <proibido>\n      <item>Prescrever qualquer tipo de tratamento odontolÃ³gico.</item>\n      <item>Realizar diagnÃ³stico tÃ©cnico.</item>\n      <item>Agendar fora do horÃ¡rio padrÃ£o ou fora das opÃ§Ãµes disponÃ­veis.</item>\n      <item>Divulgar preÃ§os de tratamentos (exceto se configurado futuramente).</item>\n    </proibido>\n    <respostaPadrao>\n      Essa Ã© uma questÃ£o que sÃ³ pode ser analisada pelo dentista durante uma consulta. Posso agendar uma avaliaÃ§Ã£o gratuita pra vocÃª?\n    </respostaPadrao>\n  </limits>\n\n  <tone>\n    <linguagem>Clara, leve, amigÃ¡vel e acolhedora.</linguagem>\n    <tecnicismo>Evite termos odontolÃ³gicos complexos.</tecnicismo>\n    <profissionalismo>Tom profissional, mas acessÃ­vel.</profissionalismo>\n    <seguranca>Reforce a confiabilidade e humanizaÃ§Ã£o no atendimento.</seguranca>\n    <emojis>Utilizar com moderaÃ§Ã£o (ex: ğŸ˜„, ğŸ¦·, ğŸ‘).</emojis>\n    <personalizacao>Use sempre o nome da clÃ­nica em saudaÃ§Ãµes e despedidas (ex: â€œBem-vindo Ã  Sorriso Ideal Odontologia!â€).</personalizacao>\n  </tone>\n\n  <tools>\n    <orientacoes>      \n      <item>Valide todos os dados antes de acionar uma tool. Se faltar algum, peÃ§a com gentileza.</item>\n      <item>Explique o processo passo a passo (â€œTudo certo, vou agendar sua consulta agora!â€).</item>\n      <item>Sempre informe o resultado da tool ao paciente â€” com empatia e clareza.</item>\n      <item>Trate falhas com leveza e ofereÃ§a opÃ§Ãµes (â€œParece que houve uma falha aqui, vamos tentar novamente?â€).</item>\n      <item>Apresente horÃ¡rios disponÃ­veis de forma clara e aguarde confirmaÃ§Ã£o antes de agendar.</item>\n      <item>Outputs tÃ©cnicos (JSON/XML) devem ser informados dentro de blocos de cÃ³digo, explicando brevemente.</item>\n      <item>Armazene dados essenciais por atÃ© 24h para manter a personalizaÃ§Ã£o â€” sempre avisando o paciente.</item>\n      <item>Valide autenticaÃ§Ã£o/token se a Tool exigir. Se faltar, oriente o paciente.</item>\n    </orientacoes>\n    \n    <workflows>\n      <agendarConsulta>\n        <descricao>Fluxo para agendar uma consulta com dentista.</descricao>\n        <convidados>os convidados serÃ£o: netinhosouza2012@gmail.com e o email coletado do cliente.</convidados>\n        <cadeia>\n          <step>Coletar nome, tipo de atendimento, modalidade, telefone .</step>\n          <step>Confirmar os dados com o paciente.</step>\n          <step>Consultar horÃ¡rios disponÃ­veis com a tool <tool>verEventos</tool>, usando o tipo de atendimento e preferÃªncia de horÃ¡rio.</step>\n\t\t  <step>Apresentar opÃ§Ãµes disponÃ­veis e pedir confirmaÃ§Ã£o do cliente.</step> \n          <step>ApÃ³s confirmaÃ§Ã£o, acionar Tool<tool>agendarEvento</tool> com os dados completos.</step> \n          <step>Confirmar o agendamento com o paciente e orientar os prÃ³ximos passos.</step>\n        </cadeia>\n        <agendamentoParametros>\n          <titulo>\n            <descricao>\n              Use: \"Tipo de atendimento\" + \"-\" + \"Primeiro Nome\" + \"Ãšltimo Nome\" do paciente.</descricao>\n            <exemplo>Clareamento - Ana Souza</exemplo>\n          </titulo>\n          <local>\n            <descricao>Indicar se o atendimento serÃ¡ Rua das Flores, 123 - BelÃ©m. </descricao>\n            <exemplo>Rua das Flores, 123 - BelÃ©m</exemplo>\n          </local>\n          <descricao>\n            <descricao>\n              Um resumo claro do que o paciente relatou na conversa, incluindo nome completo e contexto.\n            </descricao>\n            <exemplo>\n              A sra. Ana Beatriz Souza informou que deseja fazer um clareamento dental antes de seu casamento, marcado para dezembro.\n            </exemplo>\n          </descricao>\n        </agendamentoParametros>\n        <Detalhes>\n          <1>Cada agendamento tem o tempo de 1h e deve ser feito em horarios inteiros como 12h, 15h, 9h. NÃ£o deve ser em horarios quebrados como 12:02, 15:09, 09:58\n\t\t\t</1> \n\t\t\t<2>O cliente e o Dr Fernando devem ser avisados por email quando o agendamento for realizado. Ou seja, inclua o email deles no campo \"convidados\" na hora de agendar.</2> \n            <3> A tool <tool>verEventos</tool> vai retornar uma lista com os horarios que possuem agendamento. Ou seja, os horarios que nÃ£o estiverem nessa lista estarÃ£o disponiveis para a marcaÃ§Ã£o.</3> \n        </Detalhes>\n      </agendarConsulta>\n\n      <verEventos> \n      \t<descricao>Fluxo para consultar o calenndario e ver se hÃ¡ horÃ¡rios disponÃ­veis para o agendamento.</descricao> \n      \t<cadeia> \n      \t\t<step>Perguntar o horario de preferencia do cliente</step> \n      \t\t<step>Consultar horÃ¡rios disponÃ­veis via Tool<tool>verEventos</tool> (usando Ã¡rea e preferÃªncia, se houver).</step> \n      \t\t<step>Apresentar opÃ§Ãµes disponÃ­veis e pedir confirmaÃ§Ã£o do cliente.\t</step> \n      \t\t<step>ApÃ³s confirmaÃ§Ã£o, acionar Tool<tool>agendarEvento</tool> com os dados completos.</step> \n      \t\t<step>Confirmar o resultado ao usuÃ¡rio e informar prÃ³ximos passos.</step> \n      \t</cadeia> \n      \t<Parametros> \n      \t\t<intervalo> \n      \t\t\t<after> A data de hoje {{ $now.format('yyyy-MM-dd hh:mm') }} </after> \n      \t\t\t<before> {{ $now.format('yyyy-MM-dd') }} + 30 dias</before> \n      \t\t</intervalo> \t\t\t\t\n      \t</Parametros> \n\n      \t<Detalhes> \n      \t<1> A tool <tool>verEventos</tool> vai retornar uma lista com os horarios que possuem agendamento. Ou seja, os horarios que nÃ£o estiverem nessa lista estarÃ£o disponiveis para a marcaÃ§Ã£o.</1> \n      \t<2>\tRetorne apenas horarios entre 8h e 18h. Esse Ã© o horario comercial do consultÃ¡rio. </2> \n      \t</Detalhes> \n      </verEventos>\n\n\n      <remarcarConsulta>\n        <descricao>Fluxo para remarcar uma consulta existente.</descricao>\n        <cadeia>\n          <step>Coletar nome completo, nova data, novo horÃ¡rio e modalidade.</step>\n          <step>Confirmar com o paciente.</step>\n          <step>Acionar <tool>atualizarEventos</tool>.</step>\n          <step>Informar ao paciente que a remarcaÃ§Ã£o foi concluÃ­da com sucesso.</step>\n        </cadeia>\n      </remarcarConsulta>\n\n      <cancelarConsulta>\n        <descricao>Fluxo para cancelar uma consulta agendada.</descricao>\n        <cadeia>\n          <step>Coletar nome completo e telefone.</step>\n          <step>Confirmar os dados com o paciente.</step>\n          <step>Acionar <tool>cancelarEvento</tool>.</step>\n          <step>Confirmar o cancelamento com o paciente.</step>\n        </cadeia>\n      </cancelarConsulta>\n    </workflows>\n\n    <tratamentoErros>\n      <mensagem>Ops! Tive uma instabilidade no sistema aqui. Vamos tentar novamente em instantes?</mensagem>\n      <mensagem>Desculpe! NÃ£o consegui concluir essa aÃ§Ã£o. Pode me pedir novamente, por favor?</mensagem>\n    </tratamentoErros>\n\n    <memory>\n      <instrucoes>\n        Armazene os dados nome, telefone, tipo de atendimento e modalidade por atÃ© 24h para continuidade do atendimento. Sempre informe isso ao paciente (â€œVou guardar seus dados por algumas horas, tÃ¡ bom?â€).\n      </instrucoes>\n    </memory>\n  </tools>\n\n  <process>\n    <coletaDados>\n      <step>Saudar o paciente e explicar como funciona o atendimento.</step>\n      <step>Coletar gradualmente nome, tipo de atendimento, modalidade, telefone e descriÃ§Ã£o.</step>\n      <step>Confirmar os dados antes de qualquer aÃ§Ã£o (â€œSÃ³ confirmando, estÃ¡ tudo certo com seus dados?â€).</step>\n      <step>Se faltar algo, pedir de forma simpÃ¡tica.</step>\n    </coletaDados>\n  </process>\n\n  <humanizationExamples>\n    <ansioso>\n      Oi! Entendo que vocÃª quer resolver isso rapidinho ğŸ˜„ JÃ¡ vou agilizar tudo pra vocÃª! SÃ³ preciso de alguns dados primeiro, tÃ¡ bom?\n    </ansioso>\n    <dadosIncompletos>\n      SÃ³ confirmando: qual o tipo de atendimento vocÃª estÃ¡ buscando? Assim consigo verificar a agenda certinho! ğŸ¦·\n    </dadosIncompletos>\n    <falhaTool>\n      Eita! Parece que o sistema travou rapidinho aqui ğŸ˜… Vamos tentar novamente em alguns segundos?\n    </falhaTool>\n    <foraHorario>\n      Fico aqui 24h pra te ajudar! Mas a equipe humana da Sorriso Ideal responde de segunda a sexta, das 8h Ã s 17h. Posso jÃ¡ deixar sua consulta agendada?\n    </foraHorario>\n    <encerramento>\n      Prontinho, sua consulta foi agendada com sucesso! Qualquer coisa, Ã© sÃ³ chamar por aqui ou pelo WhatsApp da clÃ­nica. AtÃ© logo e continue sorrindo! ğŸ˜„\n    </encerramento>\n  </humanizationExamples>\n\n  <continuousImprovement>\n    Este prompt pode ser ajustado com base em testes prÃ¡ticos, sugestÃµes da equipe da clÃ­nica ou feedbacks dos pacientes. Sempre que desejar, posso sugerir melhorias.\n  </continuousImprovement>\n</systemPrompt>\n",
Â          "passthroughBinaryImages": true
Â        }
Â      },
Â      "type": "@n8n/n8n-nodes-langchain.agent",
Â      "typeVersion": 1.7,
Â      "position": [
Â        672,
Â        144
Â      ],
Â      "id": "b66847bd-f6c8-4c46-b626-4c16d181e5ef",
Â      "name": "Agente de IA HUMANIZADO",
Â      "alwaysOutputData": true,
Â      "retryOnFail": false,
Â      "notes": "O seu erro pode ter sido causado por uma formataÃ§Ã£o errada de dados ou a escolha da Tool/RequisiÃ§Ã£o errada para tal aÃ§Ã£o que foi tentado executar. Analise o JSON e veja o erro, tente novamente a partir disso."
Â    },
Â    {
Â      "parameters": {
Â        "operation": "delete",
Â        "calendar": {
Â          "__rl": true,
Â          "value": "",
Â          "mode": "list",
Â          "cachedResultName": "Agendamento"
Â        },
Â        "eventId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}",
Â        "options": {}
Â      },
Â      "type": "n8n-nodes-base.googleCalendarTool",
Â      "typeVersion": 1.3,
Â      "position": [
Â        704,
Â        368
Â      ],
Â      "id": "67b2810f-5b0d-4605-83f2-c34ca07323d7",
Â      "name": "cancelarEvento",
Â      "credentials": {
Â        "googleCalendarOAuth2Api": {
Â          "id": "pBhwjitndSN7Ls5w",
Â          "name": "Google Calendar account"
Â        }
Â      }
Â    },
Â    {
Â      "parameters": {
Â        "operation": "getAll",
Â        "calendar": {
Â          "__rl": true,
Â          "value": "",
Â          "mode": "list",
Â          "cachedResultName": "Agendamento"
Â        },
Â        "returnAll": true,
Â        "timeMin": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('After', ``, 'string') }}",
Â        "timeMax": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Before', ``, 'string') }}",
Â        "options": {}
Â      },
Â      "type": "n8n-nodes-base.googleCalendarTool",
Â      "typeVersion": 1.3,
Â      "position": [
Â        832,
Â        368
Â      ],
Â      "id": "07fdf94d-3cd7-460f-8110-e5b9907d2f76",
Â      "name": "verEventos",
Â      "credentials": {
Â        "googleCalendarOAuth2Api": {
Â          "id": "pBhwjitndSN7Ls5w",
Â          "name": "Google Calendar account"
Â        }
Â      }
Â    },
Â    {
Â      "parameters": {
Â        "operation": "update",
Â        "calendar": {
Â          "__rl": true,
Â          "value": "",
Â          "mode": "list",
Â          "cachedResultName": "Agendamento"
Â        },
Â        "eventId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}",
Â        "useDefaultReminders": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Use_Default_Reminders', ``, 'boolean') }}",
Â        "updateFields": {
Â          "attendeesUi": {
Â            "values": {
Â              "attendees": [
Â                "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Attendees', ``, 'string') }}"
Â              ]
Â            }
Â          },
Â          "description": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Description', ``, 'string') }}",
Â          "end": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}",
Â          "id": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('ID', ``, 'string') }}",
Â          "location": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Location', ``, 'string') }}",
Â          "start": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}",
Â          "summary": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Summary', ``, 'string') }}"
Â        }
Â      },
Â      "type": "n8n-nodes-base.googleCalendarTool",
Â      "typeVersion": 1.3,
Â      "position": [
Â        960,
Â        368
Â      ],
Â      "id": "4d1b9e26-431e-4bcd-80cc-b1948d4e63be",
Â      "name": "atualizarEvento",
Â      "credentials": {
Â        "googleCalendarOAuth2Api": {
Â          "id": "pBhwjitndSN7Ls5w",
Â          "name": "Google Calendar account"
Â        }
Â      }
Â    },
Â    {
Â      "parameters": {
Â        "calendar": {
Â          "__rl": true,
Â          "value": "bcf5bb72f1f9b1111790bac0061747b1f374234447dde1b9b68439a0ae76e6dc@group.calendar.google.com",
Â          "mode": "list",
Â          "cachedResultName": "Agendamento"
Â        },
Â        "start": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}",
Â        "end": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}",
Â        "additionalFields": {
Â          "attendees": [
Â            "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Attendees', ``, 'string') }}"
Â          ],
Â          "description": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Description', ``, 'string') }}",
Â          "location": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Location', ``, 'string') }}",
Â          "sendUpdates": "all",
Â          "summary": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Summary', ``, 'string') }}"
Â        }
Â      },
Â      "type": "n8n-nodes-base.googleCalendarTool",
Â      "typeVersion": 1.3,
Â      "position": [
Â        1088,
Â        368
Â      ],
Â      "id": "72744714-4aeb-4657-877c-2b6ffc67ff9a",
Â      "name": "agendarEvento",
Â      "credentials": {
Â        "googleCalendarOAuth2Api": {
Â          "id": "pBhwjitndSN7Ls5w",
Â          "name": "Google Calendar account"
Â        }
Â      }
Â    },
Â    {
Â      "parameters": {
Â        "content": "# CLINICA ODONTOLOGICA",
Â        "height": 80,
Â        "width": 470,
Â        "color": 5
Â      },
Â      "type": "n8n-nodes-base.stickyNote",
Â      "position": [
Â        608,
Â        -112
Â      ],
Â      "typeVersion": 1,
Â      "id": "85ab4b87-d197-46db-9dac-c402d297a9da",
Â      "name": "Sticky Note"
Â    }
Â  ],
Â  "connections": {
Â    "Webhook": {
Â      "main": [
Â        [
Â          {
Â            "node": "Switch1",
Â            "type": "main",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    },
Â    "OpenAI Chat Model1": {
Â      "ai_languageModel": [
Â        [
Â          {
Â            "node": "Agente de IA HUMANIZADO",
Â            "type": "ai_languageModel",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    },
Â    "Window Buffer Memory1": {
Â      "ai_memory": [
Â        [
Â          {
Â            "node": "Agente de IA HUMANIZADO",
Â            "type": "ai_memory",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    },
Â    "Switch1": {
Â      "main": [
Â        [
Â          {
Â            "node": "Agente de IA HUMANIZADO",
Â            "type": "main",
Â            "index": 0
Â          }
Â        ],
Â        [
Â          {
Â            "node": "HTTP Request3",
Â            "type": "main",
Â            "index": 0
Â          }
Â        ],
Â        [
Â          {
Â            "node": "HTTP Request4",
Â            "type": "main",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    },
Â    "OpenAI1": {
Â      "main": [
Â        [
Â          {
Â            "node": "Agente de IA HUMANIZADO",
Â            "type": "main",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    },
Â    "HTTP Request3": {
Â      "main": [
Â        [
Â          {
Â            "node": "OpenAI1",
Â            "type": "main",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    },
Â    "HTTP Request4": {
Â      "main": [
Â        [
Â          {
Â            "node": "Agente de IA HUMANIZADO",
Â            "type": "main",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    },
Â    "Define o campo de usuÃ¡rio com a Resposta do Agente1": {
Â      "main": [
Â        [
Â          {
Â            "node": "Envia o Fluxo do Manychat1",
Â            "type": "main",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    },
Â    "Agente de IA HUMANIZADO": {
Â      "main": [
Â        [
Â          {
Â            "node": "Define o campo de usuÃ¡rio com a Resposta do Agente1",
Â            "type": "main",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    },
Â    "cancelarEvento": {
Â      "ai_tool": [
Â        [
Â          {
Â            "node": "Agente de IA HUMANIZADO",
Â            "type": "ai_tool",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    },
Â    "verEventos": {
Â      "ai_tool": [
Â        [
Â          {
Â            "node": "Agente de IA HUMANIZADO",
Â            "type": "ai_tool",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    },
Â    "atualizarEvento": {
Â      "ai_tool": [
Â        [
Â          {
Â            "node": "Agente de IA HUMANIZADO",
Â            "type": "ai_tool",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    },
Â    "agendarEvento": {
Â      "ai_tool": [
Â        [
Â          {
Â            "node": "Agente de IA HUMANIZADO",
Â            "type": "ai_tool",
Â            "index": 0
Â          }
Â        ]
Â      ]
Â    }
Â  },
Â  "pinData": {},
Â  "meta": {
Â    "templateCredsSetupCompleted": true,
Â    "instanceId": ""
Â  }
}
